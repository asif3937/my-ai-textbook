"use strict";(globalThis.webpackChunktextbook=globalThis.webpackChunktextbook||[]).push([[6028],{6584:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(6540),n=s(1656),o=s(4586);const i={chatContainer:"chatContainer_EdW6",chatHeader:"chatHeader_cWXr",chatMessages:"chatMessages_lROH",message:"message_fuXJ",user:"user_JetT",ai:"ai_LPUN",chatInput:"chatInput_upNo",sendButton:"sendButton_Enyk",typingIndicator:"typingIndicator_JfFq",dot:"dot_CeRc",typing:"typing_C2hd"};var r=s(4848);const c=function(){const{siteConfig:e}=(0,o.A)(),[t,s]=(0,a.useState)([{id:1,text:"Hello! I'm your AI assistant for the Physical AI textbook. How can I help you today?",sender:"ai"}]),[c,d]=(0,a.useState)(""),[l,h]=(0,a.useState)(!1),u=async()=>{if(!c.trim())return;const e={id:Date.now(),text:c,sender:"user"};s(t=>[...t,e]),d(""),h(!0);try{const e=process.env.REACT_APP_BACKEND_URL||"http://localhost:8000",t=await fetch(`${e}/api/v1/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:"frontend-session",query:c,mode:"full_book",book_id:"textbook-content"})});if(!t.ok)throw new Error(`API error: ${t.status} ${t.statusText}`);const a=await t.json(),n={id:Date.now()+1,text:a.answer||"Sorry, I couldn't generate a response.",sender:"ai"};s(e=>[...e,n])}catch(t){console.error("Error sending message:",t);const e={id:Date.now()+1,text:"Sorry, I encountered an error processing your request. The backend might not be running or properly configured.",sender:"ai"};s(t=>[...t,e])}finally{h(!1)}};return(0,r.jsx)(n.A,{title:`AI Chat - ${e.title}`,description:"Interactive AI chatbot for the Physical AI textbook",children:(0,r.jsxs)("div",{className:i.chatContainer,children:[(0,r.jsxs)("div",{className:i.chatHeader,children:[(0,r.jsx)("h1",{children:"AI Textbook Assistant"}),(0,r.jsx)("p",{children:"Ask questions about Physical AI, Humanoid Robotics, ROS 2, and more"})]}),(0,r.jsxs)("div",{className:i.chatMessages,children:[t.map(e=>(0,r.jsx)("div",{className:`${i.message} ${i[e.sender]}`,children:(0,r.jsx)("div",{className:i.messageText,children:e.text})},e.id)),l&&(0,r.jsx)("div",{className:`${i.message} ${i.ai}`,children:(0,r.jsxs)("div",{className:i.typingIndicator,children:[(0,r.jsx)("div",{className:i.dot}),(0,r.jsx)("div",{className:i.dot}),(0,r.jsx)("div",{className:i.dot})]})})]}),(0,r.jsxs)("div",{className:i.chatInput,children:[(0,r.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},placeholder:"Ask a question about the textbook content...",rows:"3",disabled:l}),(0,r.jsx)("button",{onClick:u,disabled:l||!c.trim(),className:i.sendButton,children:l?"Sending...":"Send"})]})]})})}}}]);