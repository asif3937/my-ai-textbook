"use strict";(globalThis.webpackChunktextbook=globalThis.webpackChunktextbook||[]).push([[5564],{8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function o(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),s.createElement(r.Provider,{value:e},n.children)}},9259:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"digital-twin/gazebo","title":"Gazebo Simulation","description":"Gazebo is one of the most popular robotics simulators in the robotics community, providing realistic physics simulation, high-quality graphics, and easy integration with ROS and ROS 2. This chapter covers the fundamentals of using Gazebo for digital twin simulation in robotics applications.","source":"@site/docs/digital-twin/gazebo.md","sourceDirName":"digital-twin","slug":"/digital-twin/gazebo","permalink":"/ur/docs/digital-twin/gazebo","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/digital-twin/gazebo.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"Gazebo Simulation"},"sidebar":"textbookSidebar","previous":{"title":"Introduction to Digital Twin Simulation","permalink":"/ur/docs/digital-twin/intro"},"next":{"title":"NVIDIA Isaac Sim","permalink":"/ur/docs/digital-twin/isaac"}}');var l=i(4848),r=i(8453);const o={sidebar_label:"Gazebo Simulation"},t="Gazebo Simulation",a={},d=[{value:"Overview of Gazebo",id:"overview-of-gazebo",level:2},{value:"Installation and Setup",id:"installation-and-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation",id:"installation",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Worlds",id:"worlds",level:3},{value:"Models",id:"models",level:3},{value:"Sensors",id:"sensors",level:3},{value:"Working with Gazebo",id:"working-with-gazebo",level:2},{value:"Launching Gazebo",id:"launching-gazebo",level:3},{value:"Gazebo GUI",id:"gazebo-gui",level:3},{value:"Controlling Simulation",id:"controlling-simulation",level:3},{value:"Creating Worlds",id:"creating-worlds",level:2},{value:"World File Structure",id:"world-file-structure",level:3},{value:"Basic World Example",id:"basic-world-example",level:3},{value:"Creating Models",id:"creating-models",level:2},{value:"SDF Format",id:"sdf-format",level:3},{value:"Model Structure",id:"model-structure",level:3},{value:"ROS Integration",id:"ros-integration",level:2},{value:"Gazebo Plugins for ROS",id:"gazebo-plugins-for-ros",level:3},{value:"Controlling Robots in Gazebo",id:"controlling-robots-in-gazebo",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Physics Engines",id:"physics-engines",level:3},{value:"Plugins Architecture",id:"plugins-architecture",level:3},{value:"Recording and Playback",id:"recording-and-playback",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Graphics Settings",id:"graphics-settings",level:3},{value:"Physics Settings",id:"physics-settings",level:3},{value:"Model Complexity",id:"model-complexity",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Model Development",id:"model-development",level:3},{value:"Simulation Validation",id:"simulation-validation",level:3},{value:"Workflow Integration",id:"workflow-integration",level:3}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"gazebo-simulation",children:"Gazebo Simulation"})}),"\n",(0,l.jsx)(e.p,{children:"Gazebo is one of the most popular robotics simulators in the robotics community, providing realistic physics simulation, high-quality graphics, and easy integration with ROS and ROS 2. This chapter covers the fundamentals of using Gazebo for digital twin simulation in robotics applications."}),"\n",(0,l.jsx)(e.h2,{id:"overview-of-gazebo",children:"Overview of Gazebo"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo provides a comprehensive simulation environment that includes:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Realistic physics simulation"}),": Based on ODE, Bullet, or DART physics engines"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"High-quality graphics rendering"}),": Using OGRE3D for visualization"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Extensive sensor models"}),": Cameras, LIDAR, IMU, GPS, and more"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Plugin architecture"}),": Extensible functionality through custom plugins"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"World editor"}),": Tools for creating and modifying simulation environments"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"installation-and-setup",children:"Installation and Setup"}),"\n",(0,l.jsx)(e.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo requires:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"A compatible operating system (Ubuntu, macOS, Windows)"}),"\n",(0,l.jsx)(e.li,{children:"Graphics hardware with OpenGL support"}),"\n",(0,l.jsx)(e.li,{children:"ROS/ROS 2 installation (for ROS integration)"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"installation",children:"Installation"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo can be installed as a standalone application or integrated with ROS:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# For ROS 2 integration\nsudo apt install ros-humble-gazebo-ros-pkgs\n"})}),"\n",(0,l.jsx)(e.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,l.jsx)(e.h3,{id:"worlds",children:"Worlds"}),"\n",(0,l.jsx)(e.p,{children:"Worlds define the simulation environment:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Static objects"}),": Fixed obstacles and structures"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Dynamic objects"}),": Movable items in the environment"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Lighting"}),": Sun position, ambient light, and shadows"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Physics properties"}),": Gravity, air friction, and global parameters"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"models",children:"Models"}),"\n",(0,l.jsx)(e.p,{children:"Models represent objects in the simulation:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Robot models"}),": Complex articulated structures with joints and sensors"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Simple objects"}),": Basic shapes and primitives"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"SDF format"}),": Simulation Description Format for model definition"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"URDF integration"}),": Support for ROS URDF models"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"sensors",children:"Sensors"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo provides realistic sensor simulation:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Camera sensors"}),": RGB, depth, and stereo cameras"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"LIDAR sensors"}),": 2D and 3D laser scanners"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"IMU sensors"}),": Accelerometer and gyroscope simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Force/torque sensors"}),": Joint and contact force measurement"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"GPS sensors"}),": Position and velocity in global coordinates"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"working-with-gazebo",children:"Working with Gazebo"}),"\n",(0,l.jsx)(e.h3,{id:"launching-gazebo",children:"Launching Gazebo"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo can be launched in several ways:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Standalone\ngazebo\n\n# With a specific world file\ngazebo my_world.world\n\n# In ROS 2 launch file\nros2 launch gazebo_ros empty_world.launch.py\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gazebo-gui",children:"Gazebo GUI"}),"\n",(0,l.jsx)(e.p,{children:"The Gazebo interface includes:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"3D visualization window"}),": Real-time rendering of the simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Scene graph"}),": Hierarchical view of all objects"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Time control"}),": Play, pause, and step through simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Tools panel"}),": Access to various simulation tools"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"controlling-simulation",children:"Controlling Simulation"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Play/Pause"}),": Start and stop physics simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Step"}),": Advance simulation by one time step"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Reset"}),": Reset simulation to initial state"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Real-time factor"}),": Control simulation speed relative to real time"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"creating-worlds",children:"Creating Worlds"}),"\n",(0,l.jsx)(e.h3,{id:"world-file-structure",children:"World File Structure"}),"\n",(0,l.jsx)(e.p,{children:"World files are XML-based and define:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Physics parameters"}),"\n",(0,l.jsx)(e.li,{children:"Models and their initial positions"}),"\n",(0,l.jsx)(e.li,{children:"Lighting and environment settings"}),"\n",(0,l.jsx)(e.li,{children:"Plugins and additional functionality"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"basic-world-example",children:"Basic World Example"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="my_world">\n    <physics type="ode">\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    <light name="sun" type="directional">\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <attenuation>\n        <range>1000</range>\n        <constant>0.9</constant>\n        <linear>0.01</linear>\n        <quadratic>0.001</quadratic>\n      </attenuation>\n      <direction>-0.1 0.1 -1.0</direction>\n    </light>\n  </world>\n</sdf>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"creating-models",children:"Creating Models"}),"\n",(0,l.jsx)(e.h3,{id:"sdf-format",children:"SDF Format"}),"\n",(0,l.jsx)(e.p,{children:"Models are defined using the Simulation Description Format (SDF):"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Links"}),": Rigid bodies with mass and geometry"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Joints"}),": Connections between links"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sensors"}),": Various sensor types attached to links"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Plugins"}),": Custom functionality for the model"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"model-structure",children:"Model Structure"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <model name="my_robot">\n    <link name="chassis">\n      <pose>0 0 0.1 0 0 0</pose>\n      <collision name="collision">\n        <geometry>\n          <box>\n            <size>1.0 0.5 0.2</size>\n          </box>\n        </geometry>\n      </collision>\n      <visual name="visual">\n        <geometry>\n          <box>\n            <size>1.0 0.5 0.2</size>\n          </box>\n        </geometry>\n      </visual>\n      <inertial>\n        <mass>1.0</mass>\n        <inertia>\n          <ixx>0.1</ixx>\n          <ixy>0</ixy>\n          <ixz>0</ixz>\n          <iyy>0.2</iyy>\n          <iyz>0</iyz>\n          <izz>0.3</izz>\n        </inertia>\n      </inertial>\n    </link>\n  </model>\n</sdf>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"ros-integration",children:"ROS Integration"}),"\n",(0,l.jsx)(e.h3,{id:"gazebo-plugins-for-ros",children:"Gazebo Plugins for ROS"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo provides plugins to interface with ROS:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"libgazebo_ros_factory"}),": Spawn models via ROS services"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"libgazebo_ros_joint_state_publisher"}),": Publish joint states"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"libgazebo_ros_diff_drive"}),": Differential drive controller"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"libgazebo_ros_camera"}),": Camera sensor interface"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"controlling-robots-in-gazebo",children:"Controlling Robots in Gazebo"}),"\n",(0,l.jsx)(e.p,{children:"ROS nodes can control robots in Gazebo:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Publishing to cmd_vel"}),": For differential drive robots"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sending joint commands"}),": For articulated robots"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Receiving sensor data"}),": From simulated sensors"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Using ROS actions/services"}),": For complex behaviors"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,l.jsx)(e.h3,{id:"physics-engines",children:"Physics Engines"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo supports multiple physics engines:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"ODE (Open Dynamics Engine)"}),": Default engine, good performance"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Bullet"}),": More accurate contact simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"DART"}),": Advanced constraint handling"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"plugins-architecture",children:"Plugins Architecture"}),"\n",(0,l.jsx)(e.p,{children:"Gazebo's plugin system allows for:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Model plugins"}),": Custom behavior for specific models"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"World plugins"}),": Global simulation behavior"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sensor plugins"}),": Custom sensor processing"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"System plugins"}),": Low-level system modifications"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"recording-and-playback",children:"Recording and Playback"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"State recording"}),": Save simulation state over time"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sensor data logging"}),": Record sensor outputs"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Playback functionality"}),": Re-run recorded simulations"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,l.jsx)(e.h3,{id:"graphics-settings",children:"Graphics Settings"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Adjust rendering quality based on requirements"}),"\n",(0,l.jsx)(e.li,{children:"Disable unnecessary visual effects"}),"\n",(0,l.jsx)(e.li,{children:"Use appropriate texture resolutions"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"physics-settings",children:"Physics Settings"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Balance accuracy with performance"}),"\n",(0,l.jsx)(e.li,{children:"Adjust solver parameters appropriately"}),"\n",(0,l.jsx)(e.li,{children:"Use appropriate update rates"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"model-complexity",children:"Model Complexity"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Use Level of Detail (LOD) for complex models"}),"\n",(0,l.jsx)(e.li,{children:"Simplify collision geometry when possible"}),"\n",(0,l.jsx)(e.li,{children:"Optimize sensor configurations"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(e.h3,{id:"model-development",children:"Model Development"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Start with simple models and add complexity gradually"}),"\n",(0,l.jsx)(e.li,{children:"Validate model behavior against real-world data"}),"\n",(0,l.jsx)(e.li,{children:"Use appropriate units and coordinate systems"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"simulation-validation",children:"Simulation Validation"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Compare simulation and real-world performance"}),"\n",(0,l.jsx)(e.li,{children:"Test edge cases in simulation"}),"\n",(0,l.jsx)(e.li,{children:"Document any simulation-specific behaviors"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"workflow-integration",children:"Workflow Integration"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Integrate simulation testing into development process"}),"\n",(0,l.jsx)(e.li,{children:"Use simulation for regression testing"}),"\n",(0,l.jsx)(e.li,{children:"Maintain consistency between simulation and reality"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}}}]);