"use strict";(globalThis.webpackChunktextbook=globalThis.webpackChunktextbook||[]).push([[2766],{4575:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"ros2/basics","title":"ROS 2 Basics","description":"This chapter covers the fundamental concepts and practical aspects of working with ROS 2.","source":"@site/docs/ros2/basics.md","sourceDirName":"ros2","slug":"/ros2/basics","permalink":"/ur/docs/ros2/basics","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ros2/basics.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"ROS 2 Basics"},"sidebar":"textbookSidebar","previous":{"title":"Introduction to ROS 2","permalink":"/ur/docs/ros2/intro"},"next":{"title":"ROS 2 Nodes and Topics","permalink":"/ur/docs/ros2/nodes-topics"}}');var c=i(4848),r=i(8453);const l={sidebar_label:"ROS 2 Basics"},a="ROS 2 Basics",o={},d=[{value:"Setting Up Your Development Environment",id:"setting-up-your-development-environment",level:2},{value:"Installation",id:"installation",level:3},{value:"Workspace Structure",id:"workspace-structure",level:3},{value:"Creating Your First Package",id:"creating-your-first-package",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"Creating a Package",id:"creating-a-package",level:3},{value:"Nodes and Lifecycle",id:"nodes-and-lifecycle",level:2},{value:"Creating Nodes",id:"creating-nodes",level:3},{value:"Node Execution",id:"node-execution",level:3},{value:"Communication Patterns",id:"communication-patterns",level:2},{value:"Topics (Publish/Subscribe)",id:"topics-publishsubscribe",level:3},{value:"Services (Request/Response)",id:"services-requestresponse",level:3},{value:"Actions (Goal-Oriented)",id:"actions-goal-oriented",level:3},{value:"Building and Running",id:"building-and-running",level:2},{value:"Building Packages",id:"building-packages",level:3},{value:"Sourcing the Environment",id:"sourcing-the-environment",level:3},{value:"Running Nodes",id:"running-nodes",level:3},{value:"Launch Files",id:"launch-files",level:3},{value:"Debugging and Tools",id:"debugging-and-tools",level:2},{value:"Command Line Tools",id:"command-line-tools",level:3},{value:"Visualization",id:"visualization",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Package Design",id:"package-design",level:3},{value:"Code Structure",id:"code-structure",level:3},{value:"Performance",id:"performance",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"ros-2-basics",children:"ROS 2 Basics"})}),"\n",(0,c.jsx)(n.p,{children:"This chapter covers the fundamental concepts and practical aspects of working with ROS 2."}),"\n",(0,c.jsx)(n.h2,{id:"setting-up-your-development-environment",children:"Setting Up Your Development Environment"}),"\n",(0,c.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,c.jsx)(n.p,{children:"To install ROS 2, you typically need:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"A supported operating system (Ubuntu, Windows, etc.)"}),"\n",(0,c.jsx)(n.li,{children:"Proper system dependencies"}),"\n",(0,c.jsx)(n.li,{children:"The ROS 2 distribution for your platform"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"workspace-structure",children:"Workspace Structure"}),"\n",(0,c.jsx)(n.p,{children:"ROS 2 follows a standard workspace structure:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"workspace_folder/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 package_1/\n\u2502   \u251c\u2500\u2500 package_2/\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 build/\n\u251c\u2500\u2500 install/\n\u2514\u2500\u2500 log/\n"})}),"\n",(0,c.jsx)(n.h2,{id:"creating-your-first-package",children:"Creating Your First Package"}),"\n",(0,c.jsx)(n.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,c.jsx)(n.p,{children:"A basic ROS 2 package includes:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"package.xml"}),": Package metadata"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"CMakeLists.txt"}),": Build configuration (for C++)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"setup.py"}),": Build configuration (for Python)"]}),"\n",(0,c.jsx)(n.li,{children:"Source code in appropriate directories"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"creating-a-package",children:"Creating a Package"}),"\n",(0,c.jsxs)(n.p,{children:["Use the ",(0,c.jsx)(n.code,{children:"ros2 pkg create"})," command to create a new package with proper structure."]}),"\n",(0,c.jsx)(n.h2,{id:"nodes-and-lifecycle",children:"Nodes and Lifecycle"}),"\n",(0,c.jsx)(n.h3,{id:"creating-nodes",children:"Creating Nodes"}),"\n",(0,c.jsx)(n.p,{children:"Nodes are the basic computational units in ROS 2:"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"In Python:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node')\n        # Node initialization code\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"In C++:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'#include "rclcpp/rclcpp.hpp"\n\nclass MyNode : public rclcpp::Node\n{\npublic:\n    MyNode() : Node("my_node") {\n        // Node initialization code\n    }\n};\n'})}),"\n",(0,c.jsx)(n.h3,{id:"node-execution",children:"Node Execution"}),"\n",(0,c.jsx)(n.p,{children:"Nodes must be properly initialized and spun to process messages:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"def main(args=None):\n    rclpy.init(args=args)\n    node = MyNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),"\n",(0,c.jsx)(n.h2,{id:"communication-patterns",children:"Communication Patterns"}),"\n",(0,c.jsx)(n.h3,{id:"topics-publishsubscribe",children:"Topics (Publish/Subscribe)"}),"\n",(0,c.jsx)(n.p,{children:"Topics enable asynchronous communication:"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Publisher:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"publisher = self.create_publisher(String, 'topic_name', 10)\nmsg = String()\nmsg.data = 'Hello World'\npublisher.publish(msg)\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Subscriber:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"subscription = self.create_subscription(\n    String,\n    'topic_name',\n    self.listener_callback,\n    10)\n"})}),"\n",(0,c.jsx)(n.h3,{id:"services-requestresponse",children:"Services (Request/Response)"}),"\n",(0,c.jsx)(n.p,{children:"Services enable synchronous communication:"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Service Server:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Service Client:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"client = self.create_client(AddTwoInts, 'add_two_ints')\n"})}),"\n",(0,c.jsx)(n.h3,{id:"actions-goal-oriented",children:"Actions (Goal-Oriented)"}),"\n",(0,c.jsx)(n.p,{children:"Actions handle long-running tasks with feedback:"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Action Server:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"self._action_server = ActionServer(\n    self,\n    Fibonacci,\n    'fibonacci',\n    self.execute_callback)\n"})}),"\n",(0,c.jsx)(n.h2,{id:"building-and-running",children:"Building and Running"}),"\n",(0,c.jsx)(n.h3,{id:"building-packages",children:"Building Packages"}),"\n",(0,c.jsxs)(n.p,{children:["Use ",(0,c.jsx)(n.code,{children:"colcon build"})," to build packages in your workspace:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"colcon build --packages-select my_package\n"})}),"\n",(0,c.jsx)(n.h3,{id:"sourcing-the-environment",children:"Sourcing the Environment"}),"\n",(0,c.jsx)(n.p,{children:"After building, source the setup files:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n",(0,c.jsx)(n.h3,{id:"running-nodes",children:"Running Nodes"}),"\n",(0,c.jsxs)(n.p,{children:["Use ",(0,c.jsx)(n.code,{children:"ros2 run"})," to execute nodes:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"ros2 run my_package my_node\n"})}),"\n",(0,c.jsx)(n.h3,{id:"launch-files",children:"Launch Files"}),"\n",(0,c.jsx)(n.p,{children:"Launch files allow you to start multiple nodes at once:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-xml",children:'<launch>\n    <node pkg="my_package" exec="my_node" name="my_node_instance" />\n</launch>\n'})}),"\n",(0,c.jsx)(n.h2,{id:"debugging-and-tools",children:"Debugging and Tools"}),"\n",(0,c.jsx)(n.h3,{id:"command-line-tools",children:"Command Line Tools"}),"\n",(0,c.jsx)(n.p,{children:"ROS 2 provides various command-line tools:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ros2 topic"}),": Topic inspection and publishing"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ros2 service"}),": Service inspection and calling"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ros2 node"}),": Node information"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ros2 param"}),": Parameter management"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ros2 action"}),": Action inspection and sending goals"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"visualization",children:"Visualization"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"RViz2: 3D visualization tool"}),"\n",(0,c.jsx)(n.li,{children:"rqt: Graphical user interface framework"}),"\n",(0,c.jsx)(n.li,{children:"PlotJuggler: Data plotting tool"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,c.jsx)(n.h3,{id:"package-design",children:"Package Design"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Keep packages focused on specific functionality"}),"\n",(0,c.jsx)(n.li,{children:"Use descriptive names"}),"\n",(0,c.jsx)(n.li,{children:"Follow naming conventions"}),"\n",(0,c.jsx)(n.li,{children:"Document your packages properly"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"code-structure",children:"Code Structure"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Separate concerns into different classes/nodes"}),"\n",(0,c.jsx)(n.li,{children:"Use composition over inheritance when appropriate"}),"\n",(0,c.jsx)(n.li,{children:"Follow ROS 2 style guides"}),"\n",(0,c.jsx)(n.li,{children:"Write unit tests"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Consider QoS settings appropriately"}),"\n",(0,c.jsx)(n.li,{children:"Use appropriate message types"}),"\n",(0,c.jsx)(n.li,{children:"Optimize for your specific use case"}),"\n",(0,c.jsx)(n.li,{children:"Profile your applications"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const c={},r=s.createContext(c);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);